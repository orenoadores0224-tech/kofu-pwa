<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã€ç„¡æ–™è¨ºæ–­ã€‘ã‚ãªãŸã®ã€Œãƒ’ãƒ¼ãƒ©ãƒ¼æ¾å–ã•ã‚Œåº¦ã€ãƒã‚§ãƒƒã‚¯</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@300;400;700;900&family=Shippori+Mincho:wght@400;700;900&family=Zen+Kaku+Gothic+New:wght@300;400;700&display=swap" rel="stylesheet">
<style>
  :root {
    /* é»’ãƒ»é‡‘ãƒ»çœŸç´…ã®ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒï¼ˆæ•™ç¥–ã‚¹ã‚¿ã‚¤ãƒ«ï¼šç ´å£Šã®ãƒ•ã‚§ãƒ¼ã‚ºï¼‰ */
    --ink: #e6e6e6;       
    --paper: #0a0a0a;     
    --gold: #c9a84c;      
    --deep: #ffffff;      
    --mist: #888888;      
    --accent: #8b0000;    
    --box-bg: rgba(255, 255, 255, 0.03);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--paper);
    color: var(--ink);
    font-family: 'Zen Kaku Gothic New', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
  }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: 
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23noise)' opacity='0.08'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 0;
  }

  .container {
    max-width: 680px;
    margin: 0 auto;
    padding: 0 24px;
    position: relative;
    z-index: 1;
  }

  .hero {
    text-align: center;
    padding: 80px 0 60px;
    border-bottom: 1px solid rgba(201,168,76,0.3);
    position: relative;
  }

  .hero::before {
    content: 'ç¸›';
    position: absolute;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    font-family: 'Shippori Mincho', serif;
    font-size: 140px;
    color: rgba(139, 0, 0, 0.08); 
    letter-spacing: 0;
    pointer-events: none;
  }

  .hero-tag {
    display: inline-block;
    font-size: 12px;
    letter-spacing: 4px;
    color: var(--accent);
    border: 1px solid var(--accent);
    padding: 6px 16px;
    margin-bottom: 28px;
    font-weight: 700;
  }

  .hero h1 {
    font-family: 'Shippori Mincho', serif;
    font-size: clamp(24px, 5vw, 36px);
    font-weight: 900;
    line-height: 1.5;
    color: var(--gold);
    margin-bottom: 24px;
  }

  .hero p {
    font-size: 15px;
    line-height: 2;
    color: var(--ink);
    max-width: 480px;
    margin: 0 auto;
  }

  .progress-wrap { padding: 28px 0 0; display: none; }
  .progress-wrap.active { display: block; }
  .progress-label { display: flex; justify-content: space-between; font-size: 11px; letter-spacing: 2px; color: var(--mist); margin-bottom: 10px; }
  .progress-bar { height: 3px; background: rgba(255,255,255,0.1); border-radius: 1px; overflow: hidden; }
  .progress-fill { height: 100%; background: linear-gradient(90deg, var(--gold), var(--accent)); width: 0%; transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1); }

  #screen-start { padding: 50px 0; }
  .start-desc { background: var(--box-bg); border-left: 3px solid var(--accent); padding: 24px 28px; margin: 32px 0; font-size: 15px; line-height: 2.2; }
  .time-note { text-align: center; font-size: 13px; color: var(--accent); letter-spacing: 2px; margin-bottom: 32px; font-weight: bold; }

  .btn-primary {
    display: block; width: 100%; background: var(--accent); color: #ffffff; border: 1px solid #ff0000;
    padding: 20px; font-family: 'Shippori Mincho', serif; font-size: 18px; font-weight: bold; cursor: pointer;
    letter-spacing: 4px; transition: all 0.3s; position: relative; overflow: hidden; text-align: center; text-decoration: none;
  }
  .btn-primary::before {
    content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); transition: left 0.5s;
  }
  .btn-primary:hover::before { left: 100%; }
  .btn-primary:hover { background: #600000; box-shadow: 0 0 15px rgba(139, 0, 0, 0.5); }

  #screen-quiz { display: none; padding: 50px 0; }
  .question-num { font-size: 12px; letter-spacing: 4px; color: var(--gold); margin-bottom: 16px; display: block; }
  .question-text { font-family: 'Shippori Mincho', serif; font-size: clamp(18px, 3.5vw, 22px); font-weight: 700; line-height: 1.7; color: var(--deep); margin-bottom: 36px; padding-bottom: 24px; border-bottom: 1px solid rgba(201,168,76,0.3); }
  
  .choices { display: flex; flex-direction: column; gap: 16px; }
  .choice-btn { background: var(--box-bg); border: 1px solid rgba(255,255,255,0.2); padding: 20px 24px; text-align: left; cursor: pointer; font-size: 15px; line-height: 1.8; color: var(--ink); transition: all 0.25s; }
  .choice-btn:hover { border-color: var(--gold); background: rgba(201,168,76,0.1); transform: translateX(4px); }
  .choice-btn.selected { border-color: var(--accent); background: rgba(139, 0, 0, 0.2); color: #ffffff; }
  .choice-btn::before { content: 'â—¯'; font-size: 10px; color: rgba(255,255,255,0.3); margin-right: 12px; }
  .choice-btn.selected::before { content: 'â—'; color: var(--accent); }

  .nav-wrap { display: flex; gap: 12px; margin-top: 40px; }
  .btn-back { flex: 0 0 auto; background: transparent; border: 1px solid rgba(255,255,255,0.3); padding: 14px 24px; font-size: 13px; color: var(--mist); cursor: pointer; letter-spacing: 2px; transition: all 0.2s; }
  .btn-back:hover { border-color: var(--ink); color: var(--ink); }
  
  .btn-next { flex: 1; background: #222222; border: 1px solid #444444; padding: 16px; font-family: 'Shippori Mincho', serif; font-size: 16px; color: var(--mist); cursor: pointer; letter-spacing: 3px; transition: all 0.3s; opacity: 0.5; pointer-events: none; }
  .btn-next.ready { opacity: 1; pointer-events: all; background: var(--gold); border-color: var(--gold); color: var(--paper); font-weight: bold; }
  .btn-next.ready:hover { background: #dfbb5a; }

  #screen-result { display: none; padding: 50px 0; }
  .result-tag { font-size: 13px; letter-spacing: 4px; color: var(--accent); display: block; margin-bottom: 12px; font-weight: bold; }
  .result-type { font-family: 'Shippori Mincho', serif; font-size: clamp(26px, 5vw, 36px); font-weight: 900; color: var(--gold); line-height: 1.4; margin-bottom: 16px; }
  .result-divider { width: 60px; height: 2px; background: var(--accent); margin: 32px 0; }
  .result-section { margin-bottom: 32px; background: var(--box-bg); padding: 24px; border-left: 2px solid var(--gold); }
  .result-section p { font-size: 15px; line-height: 2.2; }
  .result-section p strong { color: var(--accent); background: rgba(139, 0, 0, 0.1); padding: 0 4px; }

  .register-box { background: #111111; border: 1px solid var(--accent); padding: 40px 36px; margin-top: 48px; text-align: center; }
  .register-box h3 { font-family: 'Shippori Mincho', serif; font-size: 22px; margin-bottom: 16px; color: var(--accent); }
  .register-box p { font-size: 14px; line-height: 2; margin-bottom: 32px; text-align: left; }

  .loading { display: none; text-align: center; padding: 80px 0; }
  .loading.active { display: block; }
  .loading-circle { width: 50px; height: 50px; border: 2px solid rgba(255,255,255,0.1); border-top-color: var(--accent); border-radius: 50%; margin: 0 auto 24px; animation: spin 1s linear infinite; }
  @keyframes spin { to { transform: rotate(360deg); } }
  .loading p { font-family: 'Shippori Mincho', serif; font-size: 16px; color: var(--gold); letter-spacing: 2px; line-height: 1.8; }

  .fade-in { opacity: 0; transform: translateY(16px); transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1); }
  .fade-in.visible { opacity: 1; transform: translateY(0); }
  .footer { text-align: center; padding: 40px 0; font-size: 11px; letter-spacing: 2px; color: var(--mist); border-top: 1px solid rgba(255,255,255,0.1); margin-top: 60px; }
</style>
</head>
<body>

<div class="container">

  <div class="hero fade-in">
    <div class="hero-tag">HOMEOSTASIS BUG CHECK</div>
    <h1>ã€ç„¡æ–™è¨ºæ–­ã€‘<br>ã‚ãªãŸã®ã€Œãƒ’ãƒ¼ãƒ©ãƒ¼æ¾å–ã•ã‚Œåº¦ã€ãƒã‚§ãƒƒã‚¯</h1>
    <p>ã‚ãªãŸã¯ä»Šã€èª°ã®äººç”Ÿã‚’ç”Ÿãã¦ã„ã¾ã™ã‹ï¼Ÿ<br>ã€ŒãŠé‡‘ã‚’ã‚‚ã‚‰ã†ã®ãŒç”³ã—è¨³ãªã„ã€â€¦ãã‚“ãªç¶ºéº—äº‹ã‚’ä¸¦ã¹ã¦ã€ã‚¯ãƒ¬ã‚¯ãƒ¬æ˜Ÿäººã«è‡ªåˆ†ã®å‘½ï¼ˆæ™‚é–“ã¨æ°—ï¼‰ã‚’å¸ã„å–ã‚‰ã‚Œã¦ã„ã¾ã›ã‚“ã‹ï¼Ÿ</p>
  </div>

  <div class="progress-wrap" id="progress-wrap">
    <div class="progress-label">
      <span id="progress-text">QUESTION 1 / 3</span>
      <span id="progress-pct">33%</span>
    </div>
    <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
  </div>

  <div id="screen-start">
    <div class="start-desc fade-in">
      ã“ã®è¨ºæ–­ã§ã¯ã€ã‚ãªãŸã®è„³å†…ã«æ½œã‚€ã€Œè‡ªå·±çŠ ç‰²ã¨ã„ã†åã®ãƒã‚°ã€ã‚’æ•°å€¤åŒ–ã—ã€æ®‹é…·ãªç¾å®Ÿã‚’çªãã¤ã‘ã¾ã™ã€‚<br><br>
      å„ªã—ã•ã§è‡ªåˆ†ã‚’èª¤é­”åŒ–ã™ã®ã¯ã€ã‚‚ã†çµ‚ã‚ã‚Šã«ã—ã¾ã—ã‚‡ã†ã€‚<br>
      è¦šæ‚ŸãŒæ±ºã¾ã£ãŸäººã ã‘ã€æ‰‰ã‚’é–‹ã‘ã¦ãã ã•ã„ã€‚
    </div>
    <p class="time-note">ã€è­¦å‘Šã€‘ç›®ã‚’èƒŒã‘ãšã«ã€ç›´æ„Ÿã§ç­”ãˆã¦ãã ã•ã„ã€‚</p>
    <button class="btn-primary" onclick="startQuiz()">è¦šæ‚Ÿã‚’æ±ºã‚ã¦è¨ºæ–­ã‚’ã¯ã˜ã‚ã‚‹</button>
  </div>

  <div id="screen-quiz">
    <span class="question-num" id="q-num"></span>
    <div class="question-text" id="q-text"></div>
    <div class="choices" id="q-choices"></div>
    <div class="nav-wrap">
      <button class="btn-back" id="btn-back" onclick="prevQuestion()">â† æˆ»ã‚‹</button>
      <button class="btn-next" id="btn-next" onclick="nextQuestion()">æ¬¡ã®ãƒã‚°ã‚’æš´ã â†’</button>
    </div>
  </div>

  <div class="loading" id="screen-loading">
    <div class="loading-circle"></div>
    <p>ã‚ãªãŸã®æƒ…å ±ç©ºé–“ï¼ˆã‚²ã‚·ãƒ¥ã‚¿ãƒ«ãƒˆï¼‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ä¸­...<br><span style="font-size:13px; color:var(--mist);">ãƒ›ãƒ¡ã‚ªã‚¹ã‚¿ã‚·ã‚¹ã®å½è£…ã‚’å‰¥ãŒã—ã¦ã„ã¾ã™...</span></p>
  </div>

  <div id="screen-result"></div>

</div>

<div class="footer">Â© ãƒ’ãƒ¼ãƒ©ãƒ¼è‡ªç«‹èµ·å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒ </div>

<script>
// â–  ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°æ¸ˆã¿ã®è³ªå•ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒªã‚¢ãƒ«ãªç—›ã¿ã‚’ãˆãã‚‹ï¼‰
const questions = [
  {
    text: "Q1. SNSã‚„LINEã§ã€Œã¡ã‚‡ã£ã¨ç›¸è«‡ã«ä¹—ã£ã¦ã»ã—ã„ã€ã¨é•·æ–‡ãŒé€ã‚‰ã‚Œã¦ããŸæ™‚ã®ã‚ãªãŸã®æœ¬éŸ³ã¯ï¼Ÿ",
    choices: [
      { text: "ã€Œç§ãŒãªã‚“ã¨ã‹ã—ã¦ã‚ã’ãªãã‚ƒï¼ã€ã¨ã™ãã«é•·æ–‡ã§è¿”ä¿¡ã—ã€æ™‚é–“ã‚’å¥ªã‚ã‚Œã‚‹ã€‚", score: 0 },
      { text: "ç–²ã‚Œã‚‹ã‹ã‚‰å«Œã ãŒã€æ—¢èª­ã‚¹ãƒ«ãƒ¼ã™ã‚‹ç½ªæ‚ªæ„Ÿã«è€ãˆã‚‰ã‚Œãšã€çµå±€ä»˜ãåˆã£ã¦ã—ã¾ã†ã€‚", score: 1 },
      { text: "ã€Œãã‚Œã¯æœ‰æ–™ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ç¯„å›²ã§ã™ã€ã¨1ç§’ã§åˆ‡ã‚Šæ¨ã¦ã€è‡ªåˆ†ã®æ™‚é–“ã‚’å®ˆã‚‹ã€‚", score: 2 }
    ]
  },
  {
    text: "Q2. è‡ªåˆ†ã®ã‚µãƒ¼ãƒ“ã‚¹ã®ã€å€¤æ®µã€ã‚’æ±ºã‚ã‚‹ã¨ãã€çœŸã£å…ˆã«é ­ã«æµ®ã‹ã¶æ„Ÿæƒ…ã¯ï¼Ÿ",
    choices: [
      { text: "ã€Œé«˜ã™ããŸã‚‰èª°ã‚‚æ¥ãªã„ã‹ã‚‚â€¦ã€ã€Œã“ã®ãƒ¬ãƒ™ãƒ«ã§ãŠé‡‘ã‚’ã‚‚ã‚‰ã£ã¦ã„ã„ã®ã‹ã€ã¨ã„ã†ææ€–ã€‚", score: 0 },
      { text: "ã€Œç›¸å ´ã¯ã“ã‚Œãã‚‰ã„ã ã‹ã‚‰ã€ã¨ã€ä»–äººã®ç›®ã‚’æ°—ã«ã—ã¦ç„¡é›£ãªå€¤æ®µã«åˆã‚ã›ã‚‹ã€‚", score: 1 },
      { text: "ã€Œç§ã®å‘½ã¨æ™‚é–“ã‚’å‰Šã‚‹ã®ã ã‹ã‚‰ã€ã“ã®é‡‘é¡ä»¥ä¸‹ã§ã¯çµ¶å¯¾ã«ã‚„ã‚‰ãªã„ã€ã¨ã„ã†é™ã‹ãªè¦šæ‚Ÿã€‚", score: 2 }
    ]
  },
  {
    text: "Q3. ã‚ãªãŸãŒä»Šã€æœ€ã‚‚æ™‚é–“ã¨ãŠé‡‘ã‚’ã‹ã‘ã¦ã„ã‚‹ã“ã¨ã¯ä½•ã§ã™ã‹ï¼Ÿ",
    choices: [
      { text: "æ–°ã—ã„è³‡æ ¼ã‚„ã€ã‚‚ã£ã¨ã™ã”ã„ãƒ’ãƒ¼ãƒªãƒ³ã‚°æŠ€è¡“ã‚’ç¿’å¾—ã™ã‚‹ãŸã‚ã®ã€Œã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ã€ã€‚", score: 0 },
      { text: "SNSã®ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼ã‚’å¢—ã‚„ã—ãŸã‚Šã€ç¶ºéº—ãªæŠ•ç¨¿ã‚’ä½œã‚‹ãŸã‚ã®ã€Œè¦‹æ „ãˆã®å·¥å¤«ã€ã€‚", score: 1 },
      { text: "å«Œãªå®¢ã‚’å¼¾ãé£›ã°ã—ã€æœ¬ç‰©ã®å®¢ã ã‘ã‚’è‡ªå‹•ã§æŠ½å‡ºã™ã‚‹ã€Œç‰©ç†çš„ãªä»•çµ„ã¿ï¼ˆçµç•Œï¼‰ä½œã‚Šã€ã€‚", score: 2 }
    ]
  }
];

// â–  è¨ºæ–­çµæœãƒ‡ãƒ¼ã‚¿ï¼ˆæ•‘æ¸ˆã®ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã‚’è¿½åŠ ï¼‰
const results = [
  {
    min: 0, max: 1,
    rank: "ğŸ’€ å±é™ºåº¦MAX",
    title: "ã€å®Œå…¨æ¾å–å‹ã€‘ã‚¯ãƒ¬ã‚¯ãƒ¬æ˜Ÿäººã®é¤Šåˆ†",
    desc: "ã‚ãªãŸã¯ä»Šã€ç¢ºå®Ÿã«æ­»ã«å‘ã‹ã£ã¦ã„ã¾ã™ã€‚<br>å„ªã—ã•ã¨ã„ã†åã®ã€Œé€ƒã’ã€ã§è‡ªåˆ†ã‚’å®ˆã£ã¦ã„ã‚‹ã¤ã‚‚ã‚Šã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€å®Ÿéš›ã¯ä»–äººã®ãƒ›ãƒ¡ã‚ªã‚¹ã‚¿ã‚·ã‚¹ã«é£²ã¿è¾¼ã¾ã‚Œã€<strong>å‘½ï¼ˆã‚¨ãƒãƒ«ã‚®ãƒ¼ï¼‰ã‚’éš›é™ãªãå¸ã„å–ã‚‰ã‚Œã¦ã„ã‚‹ãŸã ã®ã€Œé¤Šåˆ†ã€</strong>ã§ã™ã€‚ã“ã®ã¾ã¾ãŠéŠæˆ¯ä¼šã‚’ç¶šã‘ã‚Œã°ã€å¿…ãšã‚ãªãŸè‡ªèº«ãŒå¿ƒèº«ã‚’å£Šã—ã¦å€’ã‚Œã¾ã™ã€‚ä»Šã™ãç›®ã‚’è¦šã¾ã—ã¦ãã ã•ã„ã€‚"
  },
  {
    min: 2, max: 3,
    rank: "ğŸ”¥ å±é™ºåº¦ é«˜",
    title: "ã€ãŠéŠæˆ¯ä¼šå‹ã€‘è‡ªå·±çŠ ç‰²ã®å½å–„è€…",
    desc: "ã‚ãªãŸã¯ã€Œç›¸æ‰‹ã«å¯„ã‚Šæ·»ã†ã“ã¨ã€ãŒæ­£ç¾©ã ã¨æ€ã„è¾¼ã‚“ã§ã„ã¾ã™ã€‚<br>ã—ã‹ã—ã€ãã‚Œã¯ç›¸æ‰‹ã‹ã‚‰è‡ªç«‹ã®æ©Ÿä¼šã‚’å¥ªã„ã€ã‚ãªãŸã¸ã®ä¾å­˜ã‚’ç”Ÿã¿å‡ºã—ã¦ã„ã‚‹ã ã‘ã®<strong>ã€Œå½å–„ã€</strong>ã§ã™ã€‚ã‚¹ã‚­ãƒ«ã¯ã‚ã‚‹ã®ã«ã€è‡ªåˆ†ã¨ä»–äººã‚’åˆ‡ã‚Šé›¢ã™ã€Œçµç•Œã€ãŒãªã„ãŸã‚ã€å¸¸ã«å®‰ã„æ‰¿èªæ¬²æ±‚ï¼ˆå½ã®ãƒ‰ãƒ¼ãƒ‘ãƒŸãƒ³ï¼‰ã§è‡ªåˆ†ã‚’èª¤é­”åŒ–ã—ã¦ã„ã¾ã™ã€‚"
  },
  {
    min: 4, max: 5,
    rank: "âš¡ å±é™ºåº¦ ä¸­",
    title: "ã€ãƒã‚¦ãƒã‚¦ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼å‹ã€‘ã‚¹ã‚­ãƒ«ã‚ªã‚¿ã‚¯ã®è¿·å­",
    desc: "ã‚ãªãŸã¯ã‚‚ã†ã€è–„ã£ãºã‚‰ã„ã€æ„›ã¨å…‰ã€ã ã‘ã§ã¯ç¾å®ŸãŒå¤‰ã‚ã‚‰ãªã„ã“ã¨ã«æ°—ã¥ã„ã¦ã„ã‚‹ã¯ãšã§ã™ã€‚<br>æ°—åŠŸã‚„ãƒ’ãƒ¼ãƒªãƒ³ã‚°ã®ã€ŒæŠ€è¡“ã€ã¯ã™ã§ã«ååˆ†ã§ã™ã€‚ã—ã‹ã—ã€ãã‚Œã‚’ç‰©ç†ç©ºé–“ã®ãŠé‡‘ã®å¾ªç’°ã«å¤‰ãˆã‚‹ã€Œãƒ“ã‚¸ãƒã‚¹ã®ä»•çµ„ã¿ï¼ˆçµç•Œï¼‰ã€ã‚’æŒã£ã¦ã„ã¾ã›ã‚“ã€‚ã ã‹ã‚‰ã„ã¤ã¾ã§ã‚‚å®‰ã„å˜ä¾¡ã§åŠ´åƒã—ç¶šã‘ã¦ã„ã¾ã™ã€‚<strong>ã‚ãªãŸã«è¶³ã‚Šãªã„ã®ã¯ã‚¹ã‚­ãƒ«ã§ã¯ãªãã€æ”¯é…è€…ã¨ã—ã¦ã®ã€Œã‚¨ãƒ³ã‚¸ãƒ³ã€ã§ã™ã€‚</strong>"
  },
  {
    min: 6, max: 6,
    rank: "ğŸ‘‘ å±é™ºåº¦ ä½",
    title: "ã€ç´ è³ªã‚ã‚Šã€‘æ”¯é…è€…ã®åµ",
    desc: "ç´ æ™´ã‚‰ã—ã„ã§ã™ã€‚ã‚ãªãŸã¯ã™ã§ã«ã€Œç„¡æ–™ã§å¯„ã‚Šæ·»ã†ã“ã¨ã®ç„¡æ„å‘³ã•ã€ã«ã†ã™ã†ã™æ°—ã¥ãå§‹ã‚ã¦ã„ã¾ã™ã€‚<br>è‡ªåˆ†ã®å‘½ã¨æ™‚é–“ã‚’å®ˆã‚‹å¿…è¦ãŒã‚ã‚‹ã“ã¨ã‚‚åˆ†ã‹ã£ã¦ã„ã¾ã™ã€‚<strong>ã‚ã¨ã¯ã€ãã®æŠ½è±¡åº¦ã®é«˜ã„æ„Ÿè¦šã‚’ã€ç¾å®Ÿã®ã€Œå¼·å›ºãªãƒ“ã‚¸ãƒã‚¹ã‚·ã‚¹ãƒ†ãƒ ï¼ˆçµç•Œï¼‰ã€ã¸ã¨è½ã¨ã—è¾¼ã‚€ã ã‘ã§ã™ã€‚</strong>æ¾å–ã•ã‚Œã‚‹ãƒ•ã‚§ãƒ¼ã‚ºã¯ã‚‚ã†çµ‚ã‚ã‚Šã¾ã—ãŸã€‚æ¬¡ã®ã‚¹ãƒ†ãƒ¼ã‚¸ã¸é€²ã‚“ã§ãã ã•ã„ã€‚"
  }
];

let current = 0;
let answers = []; 

function startQuiz() {
  document.getElementById('screen-start').style.display = 'none';
  document.getElementById('screen-quiz').style.display = 'block';
  document.getElementById('progress-wrap').classList.add('active');
  showQuestion(0);
}

function showQuestion(idx) {
  current = idx;
  const q = questions[idx];
  document.getElementById('q-num').textContent = `QUESTION ${idx + 1} / ${questions.length}`;
  document.getElementById('q-text').textContent = q.text;

  const choicesEl = document.getElementById('q-choices');
  choicesEl.innerHTML = '';
  q.choices.forEach((c, i) => {
    const btn = document.createElement('button');
    btn.className = 'choice-btn';
    if (answers[idx] !== undefined && answers[idx] === c.score) {
      btn.classList.add('selected');
    }
    btn.textContent = c.text;
    btn.onclick = () => selectChoice(c.score, btn);
    choicesEl.appendChild(btn);
  });

  updateProgress();
  updateNextBtn();
  document.getElementById('btn-back').style.visibility = idx === 0 ? 'hidden' : 'visible';
}

function selectChoice(score, btnElement) {
  answers[current] = score;
  const btns = document.getElementById('q-choices').querySelectorAll('.choice-btn');
  btns.forEach(b => b.classList.remove('selected'));
  btnElement.classList.add('selected');
  updateNextBtn();
}

function updateNextBtn() {
  const btn = document.getElementById('btn-next');
  const ready = answers[current] !== undefined;
  btn.classList.toggle('ready', ready);
  btn.textContent = current === questions.length - 1 ? 'ç¾å®Ÿï¼ˆè¨ºæ–­çµæœï¼‰ã‚’ç›´è¦–ã™ã‚‹ â†’' : 'æ¬¡ã®ãƒã‚°ã‚’æš´ã â†’';
}

function updateProgress() {
  const pct = Math.round(((current) / questions.length) * 100);
  document.getElementById('progress-fill').style.width = pct + '%';
  document.getElementById('progress-pct').textContent = pct + '%';
  document.getElementById('progress-text').textContent = `QUESTION ${current + 1} / ${questions.length}`;
}

function nextQuestion() {
  if (answers[current] === undefined) return;
  if (current < questions.length - 1) {
    showQuestion(current + 1);
  } else {
    showResult();
  }
}

function prevQuestion() {
  if (current > 0) showQuestion(current - 1);
}

function showResult() {
  document.getElementById('screen-quiz').style.display = 'none';
  document.getElementById('progress-wrap').classList.remove('active');
  document.getElementById('screen-loading').classList.add('active');

  const totalScore = answers.reduce((sum, score) => sum + score, 0);
  const resultData = results.find(r => totalScore >= r.min && totalScore <= r.max);

  setTimeout(() => {
    document.getElementById('screen-loading').classList.remove('active');
    renderResult(resultData);
  }, 2500); // 2.5ç§’é–“ã®ã‚¹ã‚­ãƒ£ãƒ³æ¼”å‡º
}

function renderResult(r) {
  const el = document.getElementById('screen-result');
  el.style.display = 'block';

  el.innerHTML = `
    <span class="result-tag">${r.rank}</span>
    <div class="result-type">${r.title}</div>
    <div class="result-divider"></div>

    <div class="result-section fade-in">
      <p>${r.desc}</p>
    </div>

    <div class="register-box fade-in">
      <h3>â–¼ ã‚ãªãŸã®ãƒã‚°ã‚’ã‚¯ãƒ¬ã‚¤ã‚¸ãƒ¼ã«ç ´å£Šã™ã‚‹ã€åŠ‡è–¬ã€</h3>
      <p>
        ã‚ãªãŸã®æ¾å–ã•ã‚Œåº¦ãŒã‚ã‹ã‚Šã¾ã—ãŸã­ã€‚<br>
        ã§ã‚‚ã€çµ¶æœ›ã—ã¦ã“ã“ã§ãƒšãƒ¼ã‚¸ã‚’é–‰ã˜ã¦ã‚‚ã€æ˜æ—¥ã®æœã«ã¯ã¾ãŸåŒã˜åœ°ç„ï¼ˆæ¾å–ã•ã‚Œã‚‹æ—¥å¸¸ï¼‰ãŒå§‹ã¾ã‚Šã¾ã™ã€‚<br><br>
        ã‚ãªãŸã®è‡´å‘½çš„ãªãƒã‚°ï¼ˆãƒ›ãƒ¡ã‚ªã‚¹ã‚¿ã‚·ã‚¹ï¼‰ã‚’åƒ•ãŒç›´æ¥ç ´å£Šã—ã€ã‚¯ãƒ¬ã‚¯ãƒ¬æ˜Ÿäººã‚’å¼¾ãé£›ã°ã™ã€Œå¼·å›ºãªçµç•Œã€ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®å…·ä½“çš„ãªæ–¹æ³•ã‚’ã€ç„¡æ–™ã®ãƒ¡ãƒ¼ãƒ«è¬›åº§ã§ãŠæ¸¡ã—ã—ã¾ã™ã€‚<br><br>
        <span style="color:var(--gold);">â€»ãŸã ã—ã€è¦šæ‚Ÿã®ãªã„äººé–“ã¯çµ¶å¯¾ã«ç™»éŒ²ã—ãªã„ã§ãã ã•ã„ã€‚æœ¬æ°—ã§è‡ªåˆ†ã®äººç”Ÿã®æ”¯é…è€…ã«ãªã‚ŠãŸã„ã€Œè“®ã®èŠ±ã€ã ã‘ã€ä¸‹ã®æ‰‰ã‚’é–‹ã‘ã¦ãã ã•ã„ã€‚</span>
      </p>
      
      <a href="https://ukikou.com/p/r/c4RgjG3i" class="btn-primary" target="_blank" style="margin-top:20px;">ã€ç„¡æ–™ã€‘16é€šã®åŠ‡è–¬ãƒ¡ãƒ¼ãƒ«è¬›åº§ã«å‚åŠ ã™ã‚‹</a>

    </div>

    <div style="text-align:center;margin-top:32px;">
      <button onclick="resetQuiz()" style="background:transparent;border:none;font-size:12px;color:var(--mist);letter-spacing:2px;cursor:pointer;text-decoration:underline;">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
    </div>
  `;

  setTimeout(() => {
    el.querySelectorAll('.fade-in').forEach((el, i) => {
      setTimeout(() => el.classList.add('visible'), i * 150);
    });
  }, 100);

  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function resetQuiz() {
  current = 0;
  answers = [];
  document.getElementById('screen-result').style.display = 'none';
  document.getElementById('screen-result').innerHTML = '';
  document.getElementById('screen-start').style.display = 'block';
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

document.addEventListener('DOMContentLoaded', () => {
  setTimeout(() => {
    document.querySelectorAll('.fade-in').forEach(el => el.classList.add('visible'));
  }, 100);
});
</script>
</body>
</html>
