<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã€ç„¡æ–™è¨ºæ–­ã€‘ã‚ãªãŸã®ã€Œãƒ’ãƒ¼ãƒ©ãƒ¼æ¾å–ã•ã‚Œåº¦ã€ãƒã‚§ãƒƒã‚¯</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@300;400;700;900&family=Shippori+Mincho:wght@400;700;900&family=Zen+Kaku+Gothic+New:wght@300;400;700&display=swap" rel="stylesheet">
<style>
  :root {
    /* é»’ãƒ»é‡‘ãƒ»çœŸç´…ã®ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒï¼ˆæ•™ç¥–ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰ */
    --ink: #e6e6e6;       /* ãƒ™ãƒ¼ã‚¹ãƒ†ã‚­ã‚¹ãƒˆï¼ˆãƒ©ã‚¤ãƒˆã‚°ãƒ¬ãƒ¼ï¼‰ */
    --paper: #0a0a0a;     /* èƒŒæ™¯ï¼ˆæ¼†é»’ï¼‰ */
    --gold: #c9a84c;      /* ã‚¢ã‚¯ã‚»ãƒ³ãƒˆï¼ˆãã™ã‚“ã é‡‘ï¼‰ */
    --deep: #ffffff;      /* è¦‹å‡ºã—ï¼ˆç´”ç™½ï¼‰ */
    --mist: #888888;      /* ã‚µãƒ–ãƒ†ã‚­ã‚¹ãƒˆï¼ˆã‚°ãƒ¬ãƒ¼ï¼‰ */
    --accent: #8b0000;    /* å¼·èª¿ãƒ»é¸æŠï¼ˆçœŸç´…ï¼‰ */
    --box-bg: rgba(255, 255, 255, 0.03);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--paper);
    color: var(--ink);
    font-family: 'Zen Kaku Gothic New', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* ãƒ€ãƒ¼ã‚¯å’Œç´™ãƒ†ã‚¯ã‚¹ãƒãƒ£ï¼ˆé­”å°æ›¸ã®è³ªæ„Ÿï¼‰ */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: 
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23noise)' opacity='0.08'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 0;
  }

  .container {
    max-width: 680px;
    margin: 0 auto;
    padding: 0 24px;
    position: relative;
    z-index: 1;
  }

  /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
  .hero {
    text-align: center;
    padding: 80px 0 60px;
    border-bottom: 1px solid rgba(201,168,76,0.3);
    position: relative;
  }

  /* èƒŒæ™¯ã®é€ã‹ã—æ–‡å­—ï¼ˆå‘ªç¸›ã®ã€Œç¸›ã€ï¼‰ */
  .hero::before {
    content: 'ç¸›';
    position: absolute;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    font-family: 'Shippori Mincho', serif;
    font-size: 140px;
    color: rgba(139, 0, 0, 0.08); /* æš—ã„èµ¤ã®é€ã‹ã— */
    letter-spacing: 0;
    pointer-events: none;
  }

  .hero-tag {
    display: inline-block;
    font-size: 12px;
    letter-spacing: 4px;
    color: var(--accent);
    border: 1px solid var(--accent);
    padding: 6px 16px;
    margin-bottom: 28px;
    font-family: 'Zen Kaku Gothic New', sans-serif;
    font-weight: 700;
  }

  .hero h1 {
    font-family: 'Shippori Mincho', serif;
    font-size: clamp(24px, 5vw, 36px);
    font-weight: 900;
    line-height: 1.5;
    color: var(--gold);
    margin-bottom: 24px;
  }

  .hero p {
    font-size: 15px;
    line-height: 2;
    color: var(--ink);
    max-width: 480px;
    margin: 0 auto;
  }

  /* é€²æ—ãƒãƒ¼ */
  .progress-wrap {
    padding: 28px 0 0;
    display: none;
  }

  .progress-wrap.active { display: block; }

  .progress-label {
    display: flex;
    justify-content: space-between;
    font-size: 11px;
    letter-spacing: 2px;
    color: var(--mist);
    margin-bottom: 10px;
  }

  .progress-bar {
    height: 3px;
    background: rgba(255,255,255,0.1);
    border-radius: 1px;
    overflow: hidden;
  }

  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--gold), var(--accent));
    border-radius: 1px;
    transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    width: 0%;
  }

  /* ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ */
  #screen-start { padding: 50px 0; }

  .start-desc {
    background: var(--box-bg);
    border-left: 3px solid var(--accent);
    padding: 24px 28px;
    margin: 32px 0;
    font-size: 15px;
    line-height: 2.2;
    color: var(--ink);
  }

  .time-note {
    text-align: center;
    font-size: 13px;
    color: var(--accent);
    letter-spacing: 2px;
    margin-bottom: 32px;
    font-weight: bold;
  }

  /* ãƒœã‚¿ãƒ³ */
  .btn-primary {
    display: block;
    width: 100%;
    background: var(--accent);
    color: #ffffff;
    border: 1px solid #ff0000;
    padding: 20px;
    font-family: 'Shippori Mincho', serif;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    letter-spacing: 4px;
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
    text-align: center;
    text-decoration: none;
  }

  .btn-primary::before {
    content: '';
    position: absolute;
    top: 0; left: -100%;
    width: 100%; height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s;
  }

  .btn-primary:hover::before { left: 100%; }
  .btn-primary:hover { 
    background: #600000; 
    box-shadow: 0 0 15px rgba(139, 0, 0, 0.5);
  }

  /* è³ªå•ç”»é¢ */
  #screen-quiz { display: none; padding: 50px 0; }

  .question-num {
    font-size: 12px;
    letter-spacing: 4px;
    color: var(--gold);
    margin-bottom: 16px;
    display: block;
  }

  .question-text {
    font-family: 'Shippori Mincho', serif;
    font-size: clamp(18px, 3.5vw, 24px);
    font-weight: 700;
    line-height: 1.7;
    color: var(--deep);
    margin-bottom: 36px;
    padding-bottom: 24px;
    border-bottom: 1px solid rgba(201,168,76,0.3);
  }

  .choices { display: flex; flex-direction: column; gap: 16px; }

  .choice-btn {
    background: var(--box-bg);
    border: 1px solid rgba(255,255,255,0.2);
    padding: 20px 24px;
    text-align: left;
    cursor: pointer;
    font-family: 'Zen Kaku Gothic New', sans-serif;
    font-size: 15px;
    line-height: 1.8;
    color: var(--ink);
    transition: all 0.25s;
    position: relative;
  }

  .choice-btn:hover {
    border-color: var(--gold);
    background: rgba(201,168,76,0.1);
    transform: translateX(4px);
  }

  .choice-btn.selected {
    border-color: var(--accent);
    background: rgba(139, 0, 0, 0.2);
    color: #ffffff;
  }

  .choice-btn::before {
    content: 'â—¯';
    font-size: 10px;
    color: rgba(255,255,255,0.3);
    margin-right: 12px;
  }

  .choice-btn.selected::before { content: 'â—'; color: var(--accent); }

  .nav-wrap {
    display: flex;
    gap: 12px;
    margin-top: 40px;
  }

  .btn-back {
    flex: 0 0 auto;
    background: transparent;
    border: 1px solid rgba(255,255,255,0.3);
    padding: 14px 24px;
    font-family: 'Zen Kaku Gothic New', sans-serif;
    font-size: 13px;
    color: var(--mist);
    cursor: pointer;
    letter-spacing: 2px;
    transition: all 0.2s;
  }

  .btn-back:hover { border-color: var(--ink); color: var(--ink); }

  .btn-next {
    flex: 1;
    background: #222222;
    border: 1px solid #444444;
    padding: 16px;
    font-family: 'Shippori Mincho', serif;
    font-size: 16px;
    color: var(--mist);
    cursor: pointer;
    letter-spacing: 3px;
    transition: all 0.3s;
    opacity: 0.5;
    pointer-events: none;
  }

  .btn-next.ready { 
    opacity: 1; 
    pointer-events: all; 
    background: var(--gold);
    border-color: var(--gold);
    color: var(--paper);
    font-weight: bold;
  }
  .btn-next.ready:hover { background: #dfbb5a; }

  /* çµæœç”»é¢ */
  #screen-result { display: none; padding: 50px 0; }

  .result-tag {
    font-size: 13px;
    letter-spacing: 4px;
    color: var(--accent);
    display: block;
    margin-bottom: 12px;
    font-weight: bold;
  }

  .result-type {
    font-family: 'Shippori Mincho', serif;
    font-size: clamp(26px, 5vw, 36px);
    font-weight: 900;
    color: var(--gold);
    line-height: 1.4;
    margin-bottom: 16px;
  }

  .result-divider {
    width: 60px;
    height: 2px;
    background: var(--accent);
    margin: 32px 0;
  }

  .result-section {
    margin-bottom: 32px;
    background: var(--box-bg);
    padding: 24px;
    border-left: 2px solid var(--gold);
  }

  .result-section p {
    font-size: 15px;
    line-height: 2.2;
    color: var(--ink);
  }

  .result-section p strong {
    color: var(--accent);
    background: rgba(139, 0, 0, 0.1);
    padding: 0 4px;
  }

  /* ç™»éŒ²ãƒœãƒƒã‚¯ã‚¹ */
  .register-box {
    background: #111111;
    border: 1px solid var(--accent);
    padding: 40px 36px;
    margin-top: 48px;
    position: relative;
    text-align: center;
  }

  .register-box h3 {
    font-family: 'Shippori Mincho', serif;
    font-size: 22px;
    font-weight: 700;
    margin-bottom: 16px;
    color: var(--accent);
  }

  .register-box p {
    font-size: 14px;
    line-height: 2;
    color: var(--ink);
    margin-bottom: 32px;
    text-align: left;
  }

  /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° */
  .loading {
    display: none;
    text-align: center;
    padding: 80px 0;
  }

  .loading.active { display: block; }

  .loading-circle {
    width: 50px;
    height: 50px;
    border: 2px solid rgba(255,255,255,0.1);
    border-top-color: var(--accent);
    border-radius: 50%;
    margin: 0 auto 24px;
    animation: spin 1s linear infinite;
  }

  @keyframes spin { to { transform: rotate(360deg); } }

  .loading p {
    font-family: 'Shippori Mincho', serif;
    font-size: 16px;
    color: var(--gold);
    letter-spacing: 2px;
  }

  /* ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ */
  .fade-in {
    opacity: 0;
    transform: translateY(16px);
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .fade-in.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* ãƒ•ãƒƒã‚¿ãƒ¼ */
  .footer {
    text-align: center;
    padding: 40px 0;
    font-size: 11px;
    letter-spacing: 2px;
    color: var(--mist);
    border-top: 1px solid rgba(255,255,255,0.1);
    margin-top: 60px;
  }
</style>
</head>
<body>

<div class="container">

  <div class="hero fade-in">
    <div class="hero-tag">HOMEOSTASIS BUG CHECK</div>
    <h1>ã€ç„¡æ–™è¨ºæ–­ã€‘<br>ã‚ãªãŸã®ã€Œãƒ’ãƒ¼ãƒ©ãƒ¼æ¾å–ã•ã‚Œåº¦ã€ãƒã‚§ãƒƒã‚¯</h1>
    <p>ã‚ãªãŸã¯ä»Šã€èª°ã®äººç”Ÿã‚’ç”Ÿãã¦ã„ã¾ã™ã‹ï¼Ÿ<br>ã€ŒãŠé‡‘ã‚’ã‚‚ã‚‰ã†ã®ãŒç”³ã—è¨³ãªã„ã€â€¦ãã‚“ãªç¶ºéº—äº‹ã‚’ä¸¦ã¹ã¦ã€ã‚¯ãƒ¬ã‚¯ãƒ¬æ˜Ÿäººã«è‡ªåˆ†ã®å‘½ï¼ˆæ™‚é–“ã¨æ°—ï¼‰ã‚’å¸ã„å–ã‚‰ã‚Œã¦ã„ã¾ã›ã‚“ã‹ï¼Ÿ</p>
  </div>

  <div class="progress-wrap" id="progress-wrap">
    <div class="progress-label">
      <span id="progress-text">QUESTION 1 / 3</span>
      <span id="progress-pct">33%</span>
    </div>
    <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
  </div>

  <div id="screen-start">
    <div class="start-desc fade-in">
      ã“ã®è¨ºæ–­ã§ã¯ã€ã‚ãªãŸã®è„³å†…ã«æ½œã‚€ã€Œè‡ªå·±çŠ ç‰²ã¨ã„ã†åã®ãƒã‚°ã€ã‚’æ•°å€¤åŒ–ã—ã€æ®‹é…·ãªç¾å®Ÿã‚’çªãã¤ã‘ã¾ã™ã€‚<br><br>
      å„ªã—ã•ã§è‡ªåˆ†ã‚’èª¤é­”åŒ–ã™ã®ã¯ã€ã‚‚ã†çµ‚ã‚ã‚Šã«ã—ã¾ã—ã‚‡ã†ã€‚<br>
      è¦šæ‚ŸãŒæ±ºã¾ã£ãŸäººã ã‘ã€æ‰‰ã‚’é–‹ã‘ã¦ãã ã•ã„ã€‚
    </div>
    <p class="time-note">ã€è­¦å‘Šã€‘ç›®ã‚’èƒŒã‘ãšã«ã€ç›´æ„Ÿã§ç­”ãˆã¦ãã ã•ã„ã€‚</p>
    <button class="btn-primary" onclick="startQuiz()">è¦šæ‚Ÿã‚’æ±ºã‚ã¦è¨ºæ–­ã‚’ã¯ã˜ã‚ã‚‹</button>
  </div>

  <div id="screen-quiz">
    <span class="question-num" id="q-num"></span>
    <div class="question-text" id="q-text"></div>
    <div class="choices" id="q-choices"></div>
    <div class="nav-wrap">
      <button class="btn-back" id="btn-back" onclick="prevQuestion()">â† æˆ»ã‚‹</button>
      <button class="btn-next" id="btn-next" onclick="nextQuestion()">æ¬¡ã¸é€²ã‚€ â†’</button>
    </div>
  </div>

  <div class="loading" id="screen-loading">
    <div class="loading-circle"></div>
    <p>ã‚ãªãŸã®ãƒ›ãƒ¡ã‚ªã‚¹ã‚¿ã‚·ã‚¹ã®ãƒã‚°ã‚’<br>è§£æã—ã¦ã„ã¾ã™...</p>
  </div>

  <div id="screen-result"></div>

</div>

<div class="footer">Â© ãƒ’ãƒ¼ãƒ©ãƒ¼è‡ªç«‹èµ·å‹•ãƒ—ãƒ­ã‚°ãƒ©ãƒ </div>

<script>
// â–  è³ªå•ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒã‚¤ãƒ³ãƒˆåˆ¶ã«å¤‰æ›´ï¼‰
const questions = [
  {
    text: "å‹äººã‹ã‚‰ã€Œæœ€è¿‘ã—ã‚“ã©ãã¦â€¦ç„¡æ–™ã§ã¡ã‚‡ã£ã¨å ã£ã¦ï¼ˆãƒ’ãƒ¼ãƒªãƒ³ã‚°ã—ã¦ï¼‰ã‚ˆã€ã¨è¨€ã‚ã‚ŒãŸã‚‰ï¼Ÿ",
    choices: [
      { text: "ç›¸æ‰‹ãŒæ¥½ã«ãªã‚‹ãªã‚‰â€¦ã¨ã€ã¤ã„å¼•ãå—ã‘ã¦ã—ã¾ã†ã€‚", score: 0 },
      { text: "ãŠé‡‘ã¯ã‚‚ã‚‰ã‚ãªã„ãŒã€è»½ãã‚¢ãƒ‰ãƒã‚¤ã‚¹ã ã‘ã™ã‚‹ã€‚", score: 1 },
      { text: "ã€Œãã‚Œã¯ç§ã®ä»•äº‹ã ã‹ã‚‰ã€ã¨ã€ãã£ã±ã‚Šæ–­ã‚‹ï¼ˆæ­£è¦æ–™é‡‘ã‚’æç¤ºï¼‰ã€‚", score: 2 }
    ]
  },
  {
    text: "ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚„ç›¸è«‡ã«ä¹—ã£ãŸå¾Œã®ã€ã‚ãªãŸã®ã€Œä½“èª¿ã€ã¯ï¼Ÿ",
    choices: [
      { text: "ãã£ãŸã‚Šç–²ã‚Œã¦ã€è‡ªåˆ†ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒç©ºã£ã½ã«ãªã‚‹æ„Ÿè¦šãŒã‚ã‚‹ã€‚", score: 0 },
      { text: "ç–²ã‚Œã‚‹ãŒã€Œã„ã„ã“ã¨ã‚’ã—ãŸã€ã¨ã„ã†å……å®Ÿæ„Ÿã§èª¤é­”åŒ–ã—ã¦ã„ã‚‹ã€‚", score: 1 },
      { text: "é€†ã«ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒå¾ªç’°ã—ã€è‡ªåˆ†è‡ªèº«ã‚‚ç†±ãã€æº€ãŸã•ã‚Œã¦ã„ã‚‹ã€‚", score: 2 }
    ]
  },
  {
    text: "ã€ŒãŠé‡‘ï¼ˆé«˜é¡ãªå¯¾ä¾¡ï¼‰ã€ã‚’å—ã‘å–ã‚‹ã“ã¨ã«ã¤ã„ã¦ã©ã†æ„Ÿã˜ã¾ã™ã‹ï¼Ÿ",
    choices: [
      { text: "ç½ªæ‚ªæ„ŸãŒã‚ã‚‹ã€‚ã§ãã‚Œã°ãŠé‡‘ã®è©±ã¯ã—ãŸããªã„ã€‚", score: 0 },
      { text: "ã‚¹ã‚­ãƒ«ãŒã‚‚ã£ã¨ä¸ŠãŒã‚Œã°ã€ã„ã¤ã‹è‡ªä¿¡ã‚’æŒã£ã¦å—ã‘å–ã‚Œã‚‹ã¯ãšã ã€‚", score: 1 },
      { text: "è‡ªåˆ†ã®å‘½ï¼ˆæ™‚é–“ï¼‰ã‚’å‰Šã‚‹ã®ã ã‹ã‚‰ã€é«˜é¡ãªã®ã¯å½“ç„¶ã ã€‚", score: 2 }
    ]
  }
];

// â–  è¨ºæ–­çµæœãƒ‡ãƒ¼ã‚¿
const results = [
  {
    min: 0, max: 1,
    rank: "ğŸ’€ å±é™ºåº¦MAX",
    title: "ã€å®Œå…¨æ¾å–å‹ã€‘ã‚¯ãƒ¬ã‚¯ãƒ¬æ˜Ÿäººã®é¤Šåˆ†",
    desc: "ã‚ãªãŸã¯ä»Šã€ç¢ºå®Ÿã«æ­»ã«å‘ã‹ã£ã¦ã„ã¾ã™ã€‚<br>å„ªã—ã•ã¨ã„ã†åã®ã€Œé€ƒã’ã€ã§è‡ªåˆ†ã‚’å®ˆã£ã¦ã„ã‚‹ã¤ã‚‚ã‚Šã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€å®Ÿéš›ã¯ä»–äººã®ãƒ›ãƒ¡ã‚ªã‚¹ã‚¿ã‚·ã‚¹ã«é£²ã¿è¾¼ã¾ã‚Œã€<strong>å‘½ï¼ˆã‚¨ãƒãƒ«ã‚®ãƒ¼ï¼‰ã‚’éš›é™ãªãå¸ã„å–ã‚‰ã‚Œã¦ã„ã‚‹ãŸã ã®ã€Œé¤Šåˆ†ã€</strong>ã§ã™ã€‚ã“ã®ã¾ã¾ãŠéŠæˆ¯ä¼šã‚’ç¶šã‘ã‚Œã°ã€å¿…ãšã‚ãªãŸè‡ªèº«ãŒå¿ƒèº«ã‚’å£Šã—ã¦å€’ã‚Œã¾ã™ã€‚ä»Šã™ãç›®ã‚’è¦šã¾ã—ã¦ãã ã•ã„ã€‚"
  },
  {
    min: 2, max: 3,
    rank: "ğŸ”¥ å±é™ºåº¦ é«˜",
    title: "ã€ãŠéŠæˆ¯ä¼šå‹ã€‘è‡ªå·±çŠ ç‰²ã®å½å–„è€…",
    desc: "ã‚ãªãŸã¯ã€Œç›¸æ‰‹ã«å¯„ã‚Šæ·»ã†ã“ã¨ã€ãŒæ­£ç¾©ã ã¨æ€ã„è¾¼ã‚“ã§ã„ã¾ã™ã€‚<br>ã—ã‹ã—ã€ãã‚Œã¯ç›¸æ‰‹ã‹ã‚‰è‡ªç«‹ã®æ©Ÿä¼šã‚’å¥ªã„ã€ã‚ãªãŸã¸ã®ä¾å­˜ã‚’ç”Ÿã¿å‡ºã—ã¦ã„ã‚‹ã ã‘ã®<strong>ã€Œå½å–„ã€</strong>ã§ã™ã€‚ã‚¹ã‚­ãƒ«ã¯ã‚ã‚‹ã®ã«ã€è‡ªåˆ†ã¨ä»–äººã‚’åˆ‡ã‚Šé›¢ã™ã€Œçµç•Œã€ãŒãªã„ãŸã‚ã€å¸¸ã«å®‰ã„æ‰¿èªæ¬²æ±‚ï¼ˆå½ã®ãƒ‰ãƒ¼ãƒ‘ãƒŸãƒ³ï¼‰ã§è‡ªåˆ†ã‚’èª¤é­”åŒ–ã—ã¦ã„ã¾ã™ã€‚"
  },
  {
    min: 4, max: 5,
    rank: "âš¡ å±é™ºåº¦ ä¸­",
    title: "ã€ãƒã‚¦ãƒã‚¦ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼å‹ã€‘ã‚¹ã‚­ãƒ«ã‚ªã‚¿ã‚¯ã®è¿·å­",
    desc: "ã‚ãªãŸã¯æ°—åŠŸã‚„ãƒ’ãƒ¼ãƒªãƒ³ã‚°ã®ã€ŒæŠ€è¡“ã€ã®é‡è¦æ€§ã¯ç†è§£ã—ã¦ãŠã‚Šã€å­¦ã³ç¶šã‘ã¦ã„ã¾ã™ã€‚<br>ã—ã‹ã—ã€ãã‚Œã‚’ç‰©ç†ç©ºé–“ã®ãŠé‡‘ã®å¾ªç’°ã«å¤‰ãˆã‚‹ã€Œãƒ“ã‚¸ãƒã‚¹ã®ä»•çµ„ã¿ï¼ˆçµç•Œï¼‰ã€ã‚’æŒã£ã¦ã„ã¾ã›ã‚“ã€‚ã ã‹ã‚‰ã€<strong>ã„ã¤ã¾ã§çµŒã£ã¦ã‚‚è‡ªä¿¡ãŒæŒã¦ãšã€å®‰ã„å˜ä¾¡ã§åŠ´åƒã—ç¶šã‘ã¦ã„ã¾ã™ã€‚</strong>ã‚ãªãŸã«è¶³ã‚Šãªã„ã®ã¯ã‚¹ã‚­ãƒ«ã§ã¯ãªãã€æ”¯é…è€…ã¨ã—ã¦ã®ã€Œè¦šæ‚Ÿã€ã§ã™ã€‚"
  },
  {
    min: 6, max: 6,
    rank: "ğŸ‘‘ å±é™ºåº¦ ä½",
    title: "ã€ç´ è³ªã‚ã‚Šã€‘æ”¯é…è€…ã®åµ",
    desc: "ã‚ãªãŸã¯ã™ã§ã«ã€Œç„¡æ–™ã§å¯„ã‚Šæ·»ã†ã“ã¨ã®ç„¡æ„å‘³ã•ã€ã«ã†ã™ã†ã™æ°—ã¥ãå§‹ã‚ã¦ã„ã¾ã™ã€‚<br>è‡ªåˆ†ã®èº«ã‚’å®ˆã‚‹å¿…è¦ãŒã‚ã‚‹ã“ã¨ã‚‚åˆ†ã‹ã£ã¦ã„ã¾ã™ã€‚ã‚ã¨ã¯ã€ãã®æŠ½è±¡åº¦ã®é«˜ã„æ„Ÿè¦šã‚’ã€ç¾å®Ÿã®<strong>ã€Œå¼·å›ºãªãƒ“ã‚¸ãƒã‚¹ã‚·ã‚¹ãƒ†ãƒ ï¼ˆçµç•Œï¼‰ã€</strong>ã¸ã¨è½ã¨ã—è¾¼ã‚€ã ã‘ã§ã™ã€‚æ¾å–ã•ã‚Œã‚‹ãƒ•ã‚§ãƒ¼ã‚ºã¯ã‚‚ã†çµ‚ã‚ã‚Šã¾ã—ãŸã€‚"
  }
];

let current = 0;
let answers = []; // é¸æŠã—ãŸã‚¹ã‚³ã‚¢ã‚’ä¿å­˜

function startQuiz() {
  document.getElementById('screen-start').style.display = 'none';
  document.getElementById('screen-quiz').style.display = 'block';
  document.getElementById('progress-wrap').classList.add('active');
  showQuestion(0);
}

function showQuestion(idx) {
  current = idx;
  const q = questions[idx];
  document.getElementById('q-num').textContent = `QUESTION ${idx + 1} / ${questions.length}`;
  document.getElementById('q-text').textContent = q.text;

  const choicesEl = document.getElementById('q-choices');
  choicesEl.innerHTML = '';
  q.choices.forEach((c, i) => {
    const btn = document.createElement('button');
    btn.className = 'choice-btn';
    // æ—¢ã«é¸æŠæ¸ˆã¿ãªã‚‰ãƒã‚¤ãƒ©ã‚¤ãƒˆ
    if (answers[idx] !== undefined && answers[idx] === c.score) {
      btn.classList.add('selected');
    }
    btn.textContent = c.text;
    btn.onclick = () => selectChoice(c.score, btn);
    choicesEl.appendChild(btn);
  });

  updateProgress();
  updateNextBtn();
  document.getElementById('btn-back').style.visibility = idx === 0 ? 'hidden' : 'visible';
}

function selectChoice(score, btnElement) {
  answers[current] = score;
  // ä»–ã®ãƒœã‚¿ãƒ³ã®é¸æŠçŠ¶æ…‹ã‚’è§£é™¤
  const btns = document.getElementById('q-choices').querySelectorAll('.choice-btn');
  btns.forEach(b => b.classList.remove('selected'));
  // ã‚¯ãƒªãƒƒã‚¯ã—ãŸãƒœã‚¿ãƒ³ã‚’é¸æŠçŠ¶æ…‹ã«
  btnElement.classList.add('selected');
  updateNextBtn();
}

function updateNextBtn() {
  const btn = document.getElementById('btn-next');
  const ready = answers[current] !== undefined;
  btn.classList.toggle('ready', ready);
  btn.textContent = current === questions.length - 1 ? 'è¨ºæ–­çµæœã‚’è¦‹ã‚‹ â†’' : 'æ¬¡ã¸é€²ã‚€ â†’';
}

function updateProgress() {
  const pct = Math.round(((current) / questions.length) * 100);
  document.getElementById('progress-fill').style.width = pct + '%';
  document.getElementById('progress-pct').textContent = pct + '%';
  document.getElementById('progress-text').textContent = `QUESTION ${current + 1} / ${questions.length}`;
}

function nextQuestion() {
  if (answers[current] === undefined) return;
  if (current < questions.length - 1) {
    showQuestion(current + 1);
  } else {
    showResult();
  }
}

function prevQuestion() {
  if (current > 0) showQuestion(current - 1);
}

function showResult() {
  document.getElementById('screen-quiz').style.display = 'none';
  document.getElementById('progress-wrap').classList.remove('active');
  document.getElementById('screen-loading').classList.add('active');

  // ã‚¹ã‚³ã‚¢åˆè¨ˆã‚’è¨ˆç®—
  const totalScore = answers.reduce((sum, score) => sum + score, 0);

  // è©²å½“ã™ã‚‹çµæœã‚’æ¤œç´¢
  const resultData = results.find(r => totalScore >= r.min && totalScore <= r.max);

  setTimeout(() => {
    document.getElementById('screen-loading').classList.remove('active');
    renderResult(resultData);
  }, 2000); // 2ç§’é–“ã®ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ¼”å‡º
}

function renderResult(r) {
  const el = document.getElementById('screen-result');
  el.style.display = 'block';

  el.innerHTML = `
    <span class="result-tag">${r.rank}</span>
    <div class="result-type">${r.title}</div>
    <div class="result-divider"></div>

    <div class="result-section fade-in">
      <p>${r.desc}</p>
    </div>

    <div class="register-box fade-in">
      <h3>â–¼ ã‚ãªãŸã®ãƒã‚°ã‚’ã‚¯ãƒ¬ã‚¤ã‚¸ãƒ¼ã«ç ´å£Šã™ã‚‹ã€åŠ‡è–¬ã€</h3>
      <p>
        ã‚ãªãŸã®æ¾å–ã•ã‚Œåº¦ãŒã‚ã‹ã‚Šã¾ã—ãŸã­ã€‚<br>
        ã§ã‚‚ã€çµ¶æœ›ã—ã¦ã“ã“ã§ãƒšãƒ¼ã‚¸ã‚’é–‰ã˜ã¦ã‚‚ã€æ˜æ—¥ã®æœã«ã¯ã¾ãŸåŒã˜åœ°ç„ï¼ˆæ¾å–ã•ã‚Œã‚‹æ—¥å¸¸ï¼‰ãŒå§‹ã¾ã‚Šã¾ã™ã€‚<br><br>
        ã‚ãªãŸã®è‡´å‘½çš„ãªãƒã‚°ï¼ˆãƒ›ãƒ¡ã‚ªã‚¹ã‚¿ã‚·ã‚¹ï¼‰ã‚’åƒ•ãŒç›´æ¥ç ´å£Šã—ã€ã‚¯ãƒ¬ã‚¯ãƒ¬æ˜Ÿäººã‚’å¼¾ãé£›ã°ã™ã€Œå¼·å›ºãªçµç•Œã€ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®å…·ä½“çš„ãªæ–¹æ³•ã‚’ã€ç„¡æ–™ã®ãƒ¡ãƒ¼ãƒ«è¬›åº§ã§ãŠæ¸¡ã—ã—ã¾ã™ã€‚<br><br>
        <span style="color:var(--gold);">â€»ãŸã ã—ã€è¦šæ‚Ÿã®ãªã„äººé–“ã¯çµ¶å¯¾ã«ç™»éŒ²ã—ãªã„ã§ãã ã•ã„ã€‚æœ¬æ°—ã§è‡ªåˆ†ã®äººç”Ÿã®æ”¯é…è€…ã«ãªã‚ŠãŸã„ã€Œè“®ã®èŠ±ã€ã ã‘ã€ä¸‹ã®æ‰‰ã‚’é–‹ã‘ã¦ãã ã•ã„ã€‚</span>
      </p>
      
      <a href="https://ã“ã“ã«ãƒã‚¤ã‚¹ãƒ”ãƒ¼ã®URLã‚’å…¥ã‚Œã‚‹" class="btn-primary" target="_blank" style="margin-top:20px;">ã€ç„¡æ–™ã€‘16é€šã®åŠ‡è–¬ãƒ¡ãƒ¼ãƒ«è¬›åº§ã«å‚åŠ ã™ã‚‹</a>
      
    </div>

    <div style="text-align:center;margin-top:32px;">
      <button onclick="resetQuiz()" style="background:transparent;border:none;font-size:12px;color:var(--mist);letter-spacing:2px;cursor:pointer;text-decoration:underline;">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
    </div>
  `;

  setTimeout(() => {
    el.querySelectorAll('.fade-in').forEach((el, i) => {
      setTimeout(() => el.classList.add('visible'), i * 150);
    });
  }, 100);

  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function resetQuiz() {
  current = 0;
  answers = [];
  document.getElementById('screen-result').style.display = 'none';
  document.getElementById('screen-result').innerHTML = '';
  document.getElementById('screen-start').style.display = 'block';
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³åˆæœŸåŒ–
document.addEventListener('DOMContentLoaded', () => {
  setTimeout(() => {
    document.querySelectorAll('.fade-in').forEach(el => el.classList.add('visible'));
  }, 100);
});
</script>
</body>
</html>
